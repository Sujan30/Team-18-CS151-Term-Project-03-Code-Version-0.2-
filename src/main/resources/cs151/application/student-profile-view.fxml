<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane fx:id="rootPane" xmlns:fx="http://javafx.com/fxml"
            fx:controller="cs151.application.StudentProfileController">
    <padding>
        <Insets top="16.0" right="24.0" bottom="16.0" left="24.0"/>
    </padding>

    <top>
        <VBox alignment="CENTER" spacing="10.0" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
            </padding>
            <HBox alignment="CENTER_LEFT" spacing="10.0" maxWidth="Infinity">
                <Button text="Back" focusTraversable="false" onAction="#onBackToHome"/>
                <Region HBox.hgrow="ALWAYS"/>
            </HBox>
            <Label text="Define Student Profiles" style="-fx-font-size: 22px; -fx-font-weight: bold;"/>
            <Label text="Capture student information and track course readiness." wrapText="true"/>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
            <BorderPane.margin>
                <Insets top="20.0" right="0.0" bottom="24.0" left="0.0"/>
            </BorderPane.margin>
            <content>
                <VBox spacing="24.0" alignment="CENTER">
                    <padding>
                        <Insets top="10.0" right="10.0" bottom="10.0" left="10.0"/>
                    </padding>
                    <TitledPane text="Basic Information" expanded="true" maxWidth="820.0">
                        <content>
                            <GridPane hgap="12.0" vgap="12.0">
                                <padding>
                                    <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                                </padding>
                                <columnConstraints>
                                    <ColumnConstraints prefWidth="180.0" halignment="RIGHT"/>
                                    <ColumnConstraints hgrow="ALWAYS"/>
                                </columnConstraints>

                                <Label text="Full Name" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                                <TextField fx:id="fullNameField" promptText="Student full name"
                                           GridPane.columnIndex="1" GridPane.rowIndex="0" maxWidth="Infinity"/>

                                <Label text="Academic Status" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <ComboBox fx:id="academicStatusCombo" prefWidth="220.0"
                                          promptText="(Required)"
                                          GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                                <Label text="Current Job Status" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                                <HBox spacing="12.0" GridPane.columnIndex="1" GridPane.rowIndex="2">
                                    <children>
                                        <RadioButton fx:id="employedRadio" text="Employed"/>
                                        <RadioButton fx:id="unemployedRadio" text="Not Employed"/>
                                    </children>
                                </HBox>

                                <Label text="Job Details" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                                <TextField fx:id="jobDetailsField" promptText="Role, employer, schedule"
                                           GridPane.columnIndex="1" GridPane.rowIndex="3" maxWidth="Infinity"/>
                            </GridPane>
                        </content>
                    </TitledPane>

                    <TitledPane text="Skills and Interests" expanded="true" maxWidth="820.0">
                        <content>
                            <GridPane hgap="16.0" vgap="16.0">
                                <padding>
                                    <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                                </padding>
                                <columnConstraints>
                                    <ColumnConstraints prefWidth="220.0"/>
                                    <ColumnConstraints prefWidth="220.0"/>
                                </columnConstraints>

                                <VBox spacing="8.0" GridPane.columnIndex="0" GridPane.rowIndex="0">
                                    <Label text="Programming Languages&#10;(Please hold [ctrl] to select multiple programmings)"
                                           style="-fx-font-weight: bold;"
                                        wrapText="true"/>
                                    <ListView fx:id="languagesListView" prefHeight="150.0"/>
                                </VBox>

                                <VBox spacing="8.0" GridPane.columnIndex="1" GridPane.rowIndex="0">
                                    <Label text="Databases&#10;(Please hold [ctrl] to select multiple databases)"
                                           style="-fx-font-weight: bold;"
                                        wrapText="true"/>
                                    <ListView fx:id="databasesListView" prefHeight="150.0"/>
                                </VBox>

                                <Label text="Preferred Professional Role" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                                <ComboBox fx:id="preferredRoleCombo" prefWidth="220.0"
                                          promptText="(Required)"
                                          GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                            </GridPane>
                        </content>
                    </TitledPane>

                    <TitledPane text="Faculty Evaluation" expanded="true" maxWidth="820.0">
                        <content>
                            <VBox spacing="10.0">
                                <padding>
                                    <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                                </padding>
                                <Label text="Comments / Journal Entries" style="-fx-font-weight: bold;"/>
                                <TextArea fx:id="commentInputArea" promptText="Enter a note and click Add to store it" prefRowCount="3"/>
                                <HBox spacing="10.0">
                                    <Region HBox.hgrow="ALWAYS"/>
                                    <Button text="Add Comment" fx:id="addCommentButton" onAction="#onAddComment"/>
                                </HBox>
                                <ListView fx:id="commentsListView" prefHeight="140.0"/>
                            </VBox>
                        </content>
                    </TitledPane>

                    <TitledPane text="Future Services Flags" expanded="true" maxWidth="820.0">
                        <content>
                            <VBox spacing="8.0">
                                <padding>
                                    <Insets top="15.0" right="15.0" bottom="15.0" left="15.0"/>
                                </padding>
                                <Label text="Choose at most one flag to mark follow-up actions." wrapText="true"/>
                                <HBox spacing="16.0">
                                    <CheckBox fx:id="whitelistCheckBox" text="Whitelist"/>
                                    <CheckBox fx:id="blacklistCheckBox" text="Blacklist"/>
                                </HBox>
                            </VBox>
                        </content>
                    </TitledPane>

                    <Label fx:id="feedbackLabel" style="-fx-font-weight: bold;"/>

                    <HBox spacing="16.0" alignment="CENTER_RIGHT" maxWidth="820.0">
                        <Button text="Reset" prefWidth="140.0" onAction="#onResetForm"/>
                        <Button text="Save Profile" prefWidth="180.0" defaultButton="true" onAction="#onSaveProfile"/>
                    </HBox>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <bottom>
        <VBox spacing="12.0" BorderPane.alignment="CENTER">
            <padding>
                <Insets top="0.0" right="0.0" bottom="16.0" left="0.0"/>
            </padding>
            <HBox alignment="CENTER_RIGHT" spacing="12.0">
                <Region HBox.hgrow="ALWAYS"/>
                <Button fx:id="toggleProfilesButton" text="View Stored Profiles" onAction="#onToggleProfiles"/>
                <Button text="Refresh Table" onAction="#onRefreshProfiles"/>
            </HBox>
            <VBox fx:id="profilesContainer" spacing="10.0">
                <Label text="Stored Student Profiles" style="-fx-font-weight: bold;"/>
                <TableView fx:id="profilesTable" prefHeight="260.0">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                    <columns>
                        <TableColumn fx:id="nameColumn" text="Full Name" prefWidth="180.0"/>
                        <TableColumn fx:id="statusColumn" text="Academic Status" prefWidth="130.0"/>
                        <TableColumn fx:id="jobStatusColumn" text="Job Status" prefWidth="120.0"/>
                        <TableColumn fx:id="jobDetailsColumn" text="Job Details" prefWidth="200.0"/>
                        <TableColumn fx:id="roleColumn" text="Preferred Role" prefWidth="140.0"/>
                        <TableColumn fx:id="languagesColumn" text="Languages" prefWidth="220.0"/>
                        <TableColumn fx:id="databasesColumn" text="Databases" prefWidth="180.0"/>
                        <TableColumn fx:id="commentsColumn" text="Comments" prefWidth="260.0"/>
                        <TableColumn fx:id="whitelistColumn" text="Whitelist" prefWidth="90.0"/>
                        <TableColumn fx:id="blacklistColumn" text="Blacklist" prefWidth="90.0"/>
                    </columns>
                </TableView>
            </VBox>
        </VBox>
    </bottom>
</BorderPane>
